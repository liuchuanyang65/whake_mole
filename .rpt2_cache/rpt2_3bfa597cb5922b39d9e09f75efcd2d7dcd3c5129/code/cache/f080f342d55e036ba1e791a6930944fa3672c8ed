{
  "code": "import { gameData } from \"./gameData\";\r\nimport { WXCloud } from \"./WXCloud\";\r\nimport { Share } from \"./Share\";\r\nexport default class over_mgr extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.maxScore = 0;\r\n    }\r\n    ShowOver(mgr) {\r\n        this.mgr = mgr;\r\n        this.maxScore = this.mgr.score > gameData.player.maxScore ? this.mgr.score : gameData.player.maxScore;\r\n        if (Laya.Browser.onMiniGame) {\r\n            this.icon_Img.skin = gameData.player.avatarUrl;\r\n            this.name_text.text = gameData.player.nickName;\r\n            var data = {\r\n                avatarUrl: gameData.player.avatarUrl,\r\n                nickName: gameData.player.nickName,\r\n                score: this.maxScore,\r\n            };\r\n            WXCloud._instance.SelfCloudSave(gameData.player.id, data);\r\n        }\r\n        this.back_btn.on(Laya.Event.CLICK, this, this.OnClickBack);\r\n        this.challenge_btn.on(Laya.Event.CLICK, this, this.onClickChallenge);\r\n        this.UpdateOverUI();\r\n    }\r\n    UpdateOverUI() {\r\n        this.all_score.text = this.mgr.score.toString();\r\n        this.max_score.text = this.maxScore.toString();\r\n        if (gameData._instance.PlayModel == 1) {\r\n            this.m_icon_Img.skin = gameData.player.avatarUrl;\r\n            this.m_name_text.text = gameData.player.nickName;\r\n            this.m_score_text.text = this.mgr.score.toString();\r\n            this.c_icon_Img.skin = gameData.player.c_avatarUrl;\r\n            this.c_name_text.text = gameData.player.c_nickName;\r\n            this.c_score_text.text = gameData.player.c_maxScore.toString();\r\n            if (this.mgr.score > gameData.player.c_maxScore) {\r\n                this.challenge_Result.text = \"胜\";\r\n            }\r\n            else {\r\n                this.challenge_Result.text = \"败\";\r\n            }\r\n            this.challenge_Box.visible = true;\r\n            this.icon_Img.visible = false;\r\n        }\r\n        else {\r\n            this.challenge_Box.visible = false;\r\n            this.icon_Img.visible = true;\r\n        }\r\n    }\r\n    OnClickBack() {\r\n        this.mgr.showWhichBack(1);\r\n    }\r\n    onClickChallenge() {\r\n        Share._instance.doShare(gameData.player.nickName);\r\n    }\r\n}\r\n",
  "references": [
    "C:/Users/dell/Desktop/my_mouse/src/script/game_mgr.ts",
    "C:/Users/dell/Desktop/my_mouse/src/script/gameData.ts",
    "C:/Users/dell/Desktop/my_mouse/src/script/WXCloud.ts",
    "C:/Users/dell/Desktop/my_mouse/src/script/Share.ts"
  ]
}
